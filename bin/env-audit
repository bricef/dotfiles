#! /bin/bash
#
# Checks the shell environment for Brice's commonly used
# CLI tools and creates a report of what still needs to
# be installed
#


TOOLS=(
  "cargo"
  "eza"
  "git"
  "zellij"
  "zsh"
  "curl"
  "bat"
  "delta"
  "helix;hx"
  "stow" 
  "yazi"
  "go"
  "asdf"
)

OK=()
FAIL=()

for tool in ${TOOLS[@]}; do
  IFS=";" read -a names <<< "$tool"
  FOUND=false
  for name in ${names[@]}; do
    if [ test $(type $tool &> /dev/null)]; then
      FOUND=true
      OK+=( "$name" )
      break
    fi
  done
  test $FOUND || FAIL+=( "${names[0]}" )
done


for tool in ${OK[@]}; do
  echo "OK $tool"
done

for tool in ${FAIL[@]}; do
  echo "NOT FOUND $tool"
done
